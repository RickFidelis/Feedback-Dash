
export function getGraphData(){

    const jsonData = {
        "totalAnswers": 14,
        "answers": {
            "resposta@ACYDBNgx-JRreh4QQOhZiOwQoDP0jVtuCiONbV8JKoPdw1Ln2hK5uIiXin3L2k0DQlo5yDY": {
                "IDCliente": "002311",
                "conexaoVoltou": "NÃO...",
                "qualidadeAtendimento": "5",
                "recomendarChance": "2",
                "Opinion": "Foi feito o reparo na minha rede porem o problema retornou novamente, eu estou tentando entrar em contato com o suporte "
            },
            "resposta@ACYDBNjrDMLMk6tSsN67edkK2_k2F1YxnvTalt8N3-Vzza26s66lKaJYchClquO3znCfUSg": {
                "IDCliente": "456987",
                "conexaoVoltou": "NÃO...",
                "qualidadeAtendimento": "1",
                "recomendarChance": "1",
                "Opinion": "Tentei suporte algumas vezes e  não fui atendido devidamente, não sanaram as minhas duvidas e o problema ainda persiste "
            },
            "resposta@ACYDBNg152Je574yPx8E9iB58-D_gO0onTrhH4W6oUiHy0JirKu5FIfcKt5Z2gu6g9cVJ94": {
                "IDCliente": "918572",
                "conexaoVoltou": "NÃO...",
                "qualidadeAtendimento": "1",
                "recomendarChance": "1",
                "Opinion": "Há um tempo que eu sigo com o problema de lentidão, e mesmo com o suporte ele segue persistindo quase todos os dias "
            },
            "resposta@ACYDBNhObc1vPD9sdM8bMb7BjPbWlMOCTQWzeJNaT7Q0cx29hcLhXdVn-C2dFBxEiWsXN1w": {
                "IDCliente": "63025",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "10",
                "recomendarChance": "10",
                "Opinion": "Teste feedback"
            },
            "resposta@ACYDBNgaf0Dc4uOkW2XBh1nWI2V1AvVSStGwSFVl2uw5-2Jj2eMPY9iN7GA6edjQuDfrtS8": {
                "IDCliente": "846564",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "9",
                "recomendarChance": "9",
                "Opinion": "A equipe foi encaminhada bem rápido até a minha residência, e logo foi resolvido o meu problema "
            },
            "resposta@ACYDBNgrzU9VtvH4azQ2CcUVuA7DanmXEqG6sCIPCKHA3l6dfOmYJzOiv6rbYLRGLiJ75fo": {
                "IDCliente": "888796",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "6",
                "recomendarChance": "6",
                "Opinion": "Eu pedi para virem tem um tempo, demorou mais do que eu esperava, mas pelo menos a conexão retornou normalmente "
            },
            "resposta@ACYDBNiwq4qVLeCEl5tEy0vjmvSspjo1g1Zy1E_B2K182gaWIfC1w7QVj0eAmeXNQPF1aEk": {
                "IDCliente": "789456",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "10",
                "recomendarChance": "10",
                "Opinion": "O serviço é ótimo."
            },
            "resposta@ACYDBNimlQRTdL8Q54F31NGV48y-UknFZnoaLpd5EEn7o_n6hDWfJbGu6JvjN2vHZGsfFV4": {
                "IDCliente": "378099",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "9",
                "recomendarChance": "7",
                "Opinion": "Eu tive um problema persistia tem um tempo, eles vieram e arrumar direito, só achei um pouco demorado para chegar na minha residência "
            },
            "resposta@ACYDBNhO_ueB4gu_964KfjdgVoJv3c54tNb3LyeQjYHOE9b4Mm3jK-kKG3uHf-xpn4Yw0KA": {
                "IDCliente": "987321",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "8",
                "recomendarChance": "7",
                "Opinion": "Conseguiram resolver meu problema para conexão no meu console até que rápido, depois disso não voltei a ter problemas "
            },
            "resposta@ACYDBNi9uMLDJ-zUuqK9S9JIsNjgInTCfE322ArfMBz_3lSprgx0PWNRVq8au8d2hb5LZSw": {
                "IDCliente": "24485",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "8",
                "recomendarChance": "10",
                "Opinion": "Estava sem conexão, porém a equipe veio até o local e solucionou o meu problema rapidamente. Estava apresentando um pouco de lentidão e oscilação, porém os técnicos logo solucionaram. "
            },
            "resposta@ACYDBNhBjv9dB6V9xaCybWrmKlvwBs1NGX0d4mUOk40pzW21zIPJhDJaYaJjwXnlPTI4Yp0": {
                "IDCliente": "558732",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "8",
                "recomendarChance": "8",
                "Opinion": "Atendimento Excelente"
            },
            "resposta@ACYDBNizzkLZ-OPKjA04X1KL0QGRnrV6jcp3tN8he9IgRLVoLuUbStuNiC99FgAHsgEgoqU": {
                "IDCliente": "001475",
                "conexaoVoltou": "NÃO...",
                "qualidadeAtendimento": "4",
                "recomendarChance": "4",
                "Opinion": "Não conseguiram fazer com que a intermitência na minha rede parasse "
            },
            "resposta@ACYDBNjdkHu8DcxiSSElYawCYtfnbGx4AS5wbrjaKP6Y7f3KGQfA6l38SD_3MCopT1hDO5Q": {
                "IDCliente": "215516",
                "conexaoVoltou": "SIM!",
                "qualidadeAtendimento": "10",
                "recomendarChance": "10",
                "Opinion": "Eu fui muito bem atendido pelo suporte técnico, conseguiram rapidamente resolver o meu problema com a conexão "
            },
            "resposta@ACYDBNgZ57pSGtULMiYxWkTCqmpENO2gVLuoZ9mhqsdH6XHfFmwTDhdsZmL2CW65Nn3Vpao": {
                "IDCliente": "142677",
                "conexaoVoltou": "NÃO...",
                "qualidadeAtendimento": "4",
                "recomendarChance": "2",
                "Opinion": "O sinal quando eu me distancio do modem somo, mesmo após o suporte, eu não consegui ter o meu problema resolvido "
            }
        }
    };
    
    const ids = Object.keys(jsonData.answers);
    
    let dadosCondensados = {
        totalRespostas: jsonData.totalAnswers,
        problemaSolucionado: 0,
        problemaNaoSolucionado: 0,
        notasAtendimento:{
            "1": 0,
            "2": 0,
            "3": 0,
            "4": 0,
            "5": 0,
            "6": 0,
            "7": 0,
            "8": 0,
            "9": 0,
            "10": 0
        },
        mediaNotasAtendimento: 0,
        chanceRecomendar:{
            "1": 0,
            "2": 0,
            "3": 0,
            "4": 0,
            "5": 0,
            "6": 0,
            "7": 0,
            "8": 0,
            "9": 0,
            "10": 0
        },
        mediaChanceRecomendar: 0,
        opiniao:[]
    };
    
    const notas = Object.keys(dadosCondensados.notasAtendimento);
    
    let somaNotasAtendimento = 0;
    let somaChanceRecomendar = 0;
    
    for(let id of ids) {
    
        //Quantidade de problemas solucionados
        if(jsonData.answers[id].conexaoVoltou == "SIM!"){
            dadosCondensados.problemaSolucionado += 1;
        } else {
            dadosCondensados.problemaNaoSolucionado += 1;
        }
    
        for (let idNotas of notas){
            
            if(idNotas == jsonData.answers[id].qualidadeAtendimento){
                dadosCondensados.notasAtendimento[idNotas] += 1;
            }
        }
    
        for (let idNotas of notas){
            
            if(idNotas == jsonData.answers[id].recomendarChance){
                dadosCondensados.chanceRecomendar[idNotas] += 1;
            }
        }
    
        dadosCondensados.opiniao.push([jsonData.answers[id].IDCliente, jsonData.answers[id].Opinion]);
    
        somaNotasAtendimento += parseInt(jsonData.answers[id].qualidadeAtendimento)
        somaChanceRecomendar += parseInt(jsonData.answers[id].recomendarChance)
    }
    
    dadosCondensados.mediaNotasAtendimento = (somaNotasAtendimento/dadosCondensados.totalRespostas);
    dadosCondensados.mediaChanceRecomendar = (somaChanceRecomendar/dadosCondensados.totalRespostas);

    return dadosCondensados;
}